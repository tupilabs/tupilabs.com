<!doctype html>
<html class="no-js">
<head>
    <meta charset="utf-8">
    <meta name="description" content="Innovation and Open Source">
    <meta name="author" content="">
    <title>TupiLabs &mdash; Monitor PBS clusters with Jenkins</title>
    <meta name="description" content="">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <meta name="mobile-web-app-capable" content="yes">
    
    <link rel="stylesheet" type="text/css" href="/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="/site.css">
</head>
<body>
    <!-- Following Menu -->
    <div class="ui large top fixed menu">
        <div class="ui container">
            <a class="item" href="/"><i class="home icon"></i> Home</a>
            <a class="item" href="/work"><i class="terminal icon"></i> Work</a>
            <a class="item" href="/tutorials"><i class="book icon"></i> Tutorials</a>
            <a class="item" href="/blog"><i class="newspaper icon"></i> Blog</a>
            <a class="item" href="/courses"><i class="student icon"></i> Courses</a>
            <a class="item" href="/lab"><i class="lab icon"></i> Lab</a>
            <div class="right menu">
                <a class="item" href="/contact"><i class="mail outline icon"></i> Contact</a>
            </div>
        </div>
    </div>
    
    <!-- Page Contents -->
    <div class="pusher">
        <div class="ui container">
            <div class="ui large stackable menu">
                <a class="item" href="/"><i class="home icon"></i> Home</a>
                <a class="item" href="/work"><i class="terminal icon"></i> Work</a>
                <a class="item" href="/tutorials"><i class="book icon"></i> Tutorials</a>
                <a class="item" href="/blog"><i class="newspaper icon"></i> Blog</a>
                <a class="item" href="/courses"><i class="student icon"></i> Courses</a>
                <a class="item" href="/lab"><i class="lab icon"></i> Lab</a>
                <div class="right menu">
                    <a class="item" href="/contact"><i class="mail outline icon"></i> Contact</a>
                </div>
            </div>
        </div>
        
        
<div class="ui basic segment" id="blog">
    <div class="ui stackable grid container">
        <div class="row">
            <div class="sixteen wide column">
                <h1>Monitor PBS clusters with Jenkins</h1>
            </div>
        </div>
        <div class="row">
            <div class="sixteen wide column">
                <p>It is not exactly an idea, it is more a requirement for <a href="http://www.biouno.org" title="BioUno">BioUno</a>. A common way of administering <a href="http://en.wikipedia.org/wiki/Batch_processing" title="Batch processing">Batch tasks</a> in computer clusters is using Batch servers such as <a href="http://en.wikipedia.org/wiki/Portable_Batch_System" title="PBS">PBS</a>. The process to submit a job consist of executing a shell script with special &#8220;meta&#8221; comments that will tell the PBS about your job priority, CPU&#8217;s needed, etc.</p>

<p><a href="http://www.jenkins-ci.org" title="Jenkins CI">Jenkins</a> has an awesome remoting API, that has been reworked since its first version in Hudson (it was part of the core IIRC), and can be used for other things. There is a Wiki page about <a href="https://wiki.jenkins-ci.org/display/JENKINS/Monitoring+external+jobs" title="Monitoring external jobs with Jenkins">Monitoring external jobs</a>.</p>

<p>What we would need, is query the PBS server, running qstat + parameters locally in the cluster machine. So the requirements that I see:</p>

<ul>
<li>Learn more about the <a href="https://github.com/jenkinsci/remoting" title="Jenkins-CI remoting API">remoting</a> API in Jenkins (see <a href="http://kohsuke.org/tag/remoting/" title="Remoting by KK">http://kohsuke.org/tag/remoting/</a> too)</li>
<li>Rework <a href="http://code.google.com/p/pbs4java/" title="pbs4java">pbs4java</a> or use a wrapper to an existing C API (I&#8217;ve read in the past about one, the Python PBS module is a wrapper for this API too)</li>
<li>Learn about this technique for monitoring external jobs mentioned in that Wiki page</li>
<li>Write glue code if needed</li>
<li>Test with a <a href="creating-a-pbsmpi-cluster-for-bioinformatics-part-1/" title="PBS cluster">PBS cluster</a></li>
<li>Report the findings (paper?)</li>
</ul>

<p>Just food for thought :D</p>

<p><strong>Edit:</strong> There is a <a href="https://wiki.jenkins-ci.org/label/JENKINS/plugin-cluster" title="plugin-cluster">label in Jenkins Wiki</a> with several plug-ins that could be used for reference</p>
            </div>
        </div>
    </div>
</div>

        
        
<div class="ui inverted vertical footer segment">
  <div class="ui container">
    <div class="ui stackable inverted divided equal height stackable grid">
      <div class="three wide column">
        <h4 class="ui inverted header">Resources</h4>
        <div class="ui inverted link list">
          <a href="/about" class="item">About</a>
          <a href="/contact" class="item">Contact Us</a>
        </div>
      </div>
      <div class="three wide column">
        <h4 class="ui inverted header">Follow Us</h4>
        <div class="ui inverted link list">
          <a href="https://github.com/tupilabs" class="item"><i class="github icon"></i> GitHub</a>
          <a href="https://www.twitter.com/tupilabs" class="item"><i class="twitter icon"></i> Twitter</a>
          <a href="https://www.facebook.com/pages/TupiLabs/367986299948160" class="item"><i class="facebook icon"></i> FaceBook</a>
          <a href="http://www.youtube.com/user/TupiLabs" class="item"><i class="youtube icon"></i> YouTube</a>
        </div>
      </div>
      <div class="seven wide column">
        <h4 class="ui inverted header">Check out our lab!</h4>
        <p>Before projects are incubated in TupiLabs, we implement small proof of concepts in our
          <a href="/lab">lab</a>.
          You can check out what we are working on, and help us to make it better by telling us what
          you think.</p>
      </div>
    </div>
  </div>
</div>
    </div>
    <script src="/jquery.min.js"></script>
    <script src="/semantic.min.js"></script>
    <script src="/site.js"></script>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    
    ga('create', 'UA-27590622-1', 'auto');
    ga('send', 'pageview');
    
    </script>
</body>
</html>
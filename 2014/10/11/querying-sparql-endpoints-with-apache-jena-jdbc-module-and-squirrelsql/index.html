<!doctype html>
<html class="no-js">
<head>
    <meta charset="utf-8">
    <meta name="description" content="Innovation and Open Source">
    <meta name="author" content="">
    <title>TupiLabs &mdash; Querying SPARQL endpoints using Jena JDBC and Squirrel SQL</title>
    <meta name="description" content="">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <meta name="mobile-web-app-capable" content="yes">
    
    <link rel="stylesheet" type="text/css" href="/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="/site.css">
</head>
<body>
    <!-- Following Menu -->
    <div class="ui large top fixed menu">
        <div class="ui container">
            <a class="item" href="/"><i class="home icon"></i> Home</a>
            <a class="item" href="/work"><i class="terminal icon"></i> Work</a>
            <a class="item" href="/tutorials"><i class="book icon"></i> Tutorials</a>
            <a class="item" href="/blog"><i class="newspaper icon"></i> Blog</a>
            <a class="item" href="/courses"><i class="student icon"></i> Courses</a>
            <a class="item" href="/lab"><i class="lab icon"></i> Lab</a>
            <div class="right menu">
                <a class="item" href="/contact"><i class="mail outline icon"></i> Contact</a>
            </div>
        </div>
    </div>
    
    <!-- Page Contents -->
    <div class="pusher">
        <div class="ui container">
            <div class="ui large stackable menu">
                <a class="item" href="/"><i class="home icon"></i> Home</a>
                <a class="item" href="/work"><i class="terminal icon"></i> Work</a>
                <a class="item" href="/tutorials"><i class="book icon"></i> Tutorials</a>
                <a class="item" href="/blog"><i class="newspaper icon"></i> Blog</a>
                <a class="item" href="/courses"><i class="student icon"></i> Courses</a>
                <a class="item" href="/lab"><i class="lab icon"></i> Lab</a>
                <div class="right menu">
                    <a class="item" href="/contact"><i class="mail outline icon"></i> Contact</a>
                </div>
            </div>
        </div>
        
        
<div class="ui basic segment" id="blog">
    <div class="ui stackable grid container">
        <div class="row">
            <div class="sixteen wide column">
                <h1>Querying SPARQL endpoints using Jena JDBC and Squirrel SQL</h1>
            </div>
        </div>
        <div class="row">
            <div class="sixteen wide column">
                <p>My favorite SQL Editor is <a href="http://www.aquafold.com/">Aqua Datastudio</a>, which I use for Open Source projects, accessing Hive, MySQL, SQLite and several other data bases. However, while working on a customer site, I can&#8217;t use Datastudio due to its license. So another great SQL Editor that I use is <a href="http://squirrel-sql.sourceforge.net/">Squirrel SQL</a>.</p>
<p>Last week I had to execute several queries manually against a SPARQL endpoint - that was using <a href="http://jena.apache.org/documentation/serving_data/">Fuseki</a> BTW. After doing that for ten minutes I decided that I needed a more productive way. Here&#8217;s where <a href="https://jena.apache.org/documentation/jdbc/">Jena JDBC</a> enters.</p>
<!-- more -->

<h2>Preparing your environment</h2>
<p>In order to query a SPARQL endpoint, the first thing you need is a SPARQL endpoint. For this experiment, let&#8217;s use the <a href="http://rdf.myexperiment.org/sparql">myExperiment public SPARQL endpoint</a>. myExperiment is used for sharing workflows, and I&#8217;ve been studying it to use in <a href="http://biouno.org">BioUno</a>.</p>
<p>We will also need a SPARQL query. Let&#8217;s use the following simple and intuitive query, limiting to 10 results.</p>
<div class="highlight"><pre><span class="k">SELECT</span> <span class="o">*</span>
    <span class="k">WHERE</span> <span class="err">{</span>
        <span class="o">?</span><span class="n">s</span> <span class="o">?</span><span class="n">p</span> <span class="o">?</span><span class="n">o</span>
<span class="err">}</span> 
<span class="k">LIMIT</span> <span class="mi">10</span>
</pre></div>

<p>You will also need to download:</p>
<ul>
<li><a href="http://sourceforge.net/projects/squirrel-sql/files/">Squirrel SQL</a></li>
<li><a href="http://search.maven.org/#search%7Cgav%7C1%7Cg%3A%22org.apache.jena%22%20AND%20a%3A%22jena-jdbc-driver-bundle%22">Jena JDBC</a></li>
</ul>
<h2>Configuring Squirrel SQL</h2>
<p>You probably already have Squirrel SQL installed at this point. If not, download the jar and run <code>java -jar squirrel*.jar</code>. And you may have been tempted to check all the plug-ins during the installation. The problem is that the SQL Parametrisation plug-in will think that the <em>?s ?p ?o</em> are variables, and will keep popping a dialog for you to input values. </p>
<p>So <strong>disable the SQL Parametrisation plug-in</strong> by going to Plugins / Summary and unchecking it.</p>
<p>Copy the Jena JDBC bundle jar to $SQUIRREL_HOME/lib/, and go to the Drivers tab, probably on your left, and add a JDBC driver for Jena JDBC. Give it any name you like. As example URL you can use <em>jdbc:jena:remote:query=http://localhost:3030/ds/query&amp;update=http://localhost:3030/ds/update</em>. And the class name, for remote endpoints, is <strong>org.apache.jena.jdbc.remote.RemoteEndpointDriver</strong>.</p>
<div class='row'>
<div class="span6 offset3" style='text-align: center;'>
<figure>
<a href="/2014/10/11/querying-sparql-endpoints-with-apache-jena-jdbc-module-and-squirrelsql/jenajdbc01.png" class="thumbnail" data-lightbox='post' data-title='Jena JDBC'>
<img src="/2014/10/11/querying-sparql-endpoints-with-apache-jena-jdbc-module-and-squirrelsql/jenajdbc01.png" alt="Jena JDBC" />
</a>
<figcaption>Jena JDBC</i></figcaption>
</figure>
</div>
</div>

<p>Finally, add a new connection, by going to the Aliases tab - again, probably on your left - and selecting the Jena driver that you just created. Give it some cool name, select the Jena driver, and for the connection URL use <em>jdbc:jena:remote:query=http://rdf.myexperiment.org/sparql</em>. Save it and you are ready to rock.</p>
<div class='row'>
<div class="span6 offset3" style='text-align: center;'>
<figure>
<a href="/2014/10/11/querying-sparql-endpoints-with-apache-jena-jdbc-module-and-squirrelsql/jenajdbc02.png" class="thumbnail" data-lightbox='post' data-title='Jena JDBC'>
<img src="/2014/10/11/querying-sparql-endpoints-with-apache-jena-jdbc-module-and-squirrelsql/jenajdbc02.png" alt="Jena JDBC" />
</a>
<figcaption>Jena JDBC</figcaption>
</figure>
</div>
</div>

<h2>Your first SPARQL query using JDBC</h2>
<p>By double clicking the connection alias and confirming that you want to connect (leave user and pass empty) Squirrel SQL should give a screen where you can enter SQL commands. Enter any SPARQL query and give it a shot. Here&#8217;s my result.</p>
<div class='row'>
<div class="span6 offset3" style='text-align: center;'>
<figure>
<a href="/2014/10/11/querying-sparql-endpoints-with-apache-jena-jdbc-module-and-squirrelsql/jenajdbc03.png" class="thumbnail" data-lightbox='post' data-title='Jena JDBC'>
<img src="/2014/10/11/querying-sparql-endpoints-with-apache-jena-jdbc-module-and-squirrelsql/jenajdbc03.png" alt="Jena JDBC" />
</a>
<figcaption>Jena JDBC</figcaption>
</figure>
</div>
</div>

<p>Happy hacking!</p>
            </div>
        </div>
    </div>
</div>

        
        
<div class="ui inverted vertical footer segment">
  <div class="ui container">
    <div class="ui stackable inverted divided equal height stackable grid">
      <div class="three wide column">
        <h4 class="ui inverted header">Resources</h4>
        <div class="ui inverted link list">
          <a href="/about" class="item">About</a>
          <a href="/contact" class="item">Contact Us</a>
        </div>
      </div>
      <div class="three wide column">
        <h4 class="ui inverted header">Follow Us</h4>
        <div class="ui inverted link list">
          <a href="https://github.com/tupilabs" class="item"><i class="github icon"></i> GitHub</a>
          <a href="https://www.twitter.com/tupilabs" class="item"><i class="twitter icon"></i> Twitter</a>
          <a href="https://www.facebook.com/pages/TupiLabs/367986299948160" class="item"><i class="facebook icon"></i> FaceBook</a>
          <a href="http://www.youtube.com/user/TupiLabs" class="item"><i class="youtube icon"></i> YouTube</a>
        </div>
      </div>
      <div class="seven wide column">
        <h4 class="ui inverted header">Check out our lab!</h4>
        <p>Before projects are incubated in TupiLabs, we implement small proof of concepts in our
          <a href="/lab">lab</a>.
          You can check out what we are working on, and help us to make it better by telling us what
          you think.</p>
      </div>
    </div>
  </div>
</div>
    </div>
    <script src="/jquery.min.js"></script>
    <script src="/semantic.min.js"></script>
    <script src="/site.js"></script>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    
    ga('create', 'UA-27590622-1', 'auto');
    ga('send', 'pageview');
    
    </script>
</body>
</html>